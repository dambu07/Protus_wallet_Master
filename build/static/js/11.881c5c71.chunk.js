(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[11],{1502:function(e,t,s){"use strict";s.r(t);var a=s(2),r=s(23),n=s(11),o=s(10),i=s(205),c=s(433),u=s(65),d=Object(n.a)((function e(t){var s,n,d=this;Object(o.a)(this,e),this.TransactionFees=Object(r.a)(Object(a.a)().mark((function e(){var t,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.b.post("/blockchain/estimate",d.feesData,Object(i.a)());case 3:return s=e.sent,console.log("responseBtcBasedTransactionFees",s.data),e.abrupt("return",null===(t=s.data)||void 0===t?void 0:t.medium);case 8:return e.prev=8,e.t0=e.catch(0),console.log("error",e.t0),e.t0.response.status,c.b.error("Something went wrong for calculate ".concat(d.keyCoin," fees!"),{autoClose:2e3}),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.sendCoin=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.b.post("/".concat(d.key,"/transaction"),d.sendCoinData,Object(i.a)());case 3:return 200===(s=e.sent).status&&(c.b.success("".concat(d.keyCoin," Transaction Completed Successfully !"),{autoClose:2e3}),t.navigate(u.a.walletsPage)),console.log("response",s.data),e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(0),e.t0.response.status,c.b.error("".concat(d.keyCoin," Transaction Failed !"),{autoClose:2e3}),console.log("error",e.t0.response),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),this.TransactionFees=this.TransactionFees.bind(this),this.key=t.key,this.keyCoin=t.keyCoin,this.amount=t.amount,this.toAddress=t.to,this.transactionAddress=localStorage.getItem("user_crypto_currency_data")&&(null===(s=JSON.parse(localStorage.getItem("user_crypto_currency_data"))[this.keyCoin])||void 0===s?void 0:s.address),this.privateKey=localStorage.getItem("user_crypto_currency_data")&&(null===(n=JSON.parse(localStorage.getItem("user_crypto_currency_data"))[this.keyCoin])||void 0===n?void 0:n.privateKey),this.balance=t.balance,this.fee=t.fee,this.feesData={chain:this.keyCoin,type:"TRANSFER",fromAddress:[this.transactionAddress],to:[{address:this.toAddress,value:+this.amount},{address:this.transactionAddress,value:+(+this.balance-+this.amount).toFixed(6)}]},console.log("feesDataLog",+this.balance,+this.amount),this.sendCoinData={fromAddress:[{address:this.transactionAddress,privateKey:this.privateKey}],to:[{address:this.toAddress,value:+this.amount},{address:this.transactionAddress,value:+(+this.balance-this.fee-+this.amount).toFixed(6)}]}}));t.default=d}}]);